<html>

<h1># HTTP Server</h1>

<h2>Création d'un serveur web simple</h2>
<body>
<br>

<h3>Welcome</h3>


<br>
<br>
## Setup:
<br>
commande pour le dossier
<br>
```<br>
$ mkdir ~/www<br>
$ cd ~/www/<br>
```<br>

<br>

ensuite soit créer le conteneur via la recette (requiere le sudo) sinon le pull via le singularity hub ou docker (link):
<br>
```<br>
$ singularity build http.sif http.def
<br>```<br>


<br>### la commande help marche comme ce readme:
<br>

```<br>
<br>$ singularity run-help http.sif
<br>ou plus généralement
<br>$ singularity run-help 'nom de votre conteneur'.sif
<br>```
<br>la commande help se lance aussi avec cette commande
<br>```
<br>$ ./'nom de votre conteneur'.sif
<br>```

<br>

<br>## Dans cette partie il ne faut la faire que si le build n'a pas créer les fichier suivant htdocs/logs et index.html
qui est votre fichier qui va s'ouvrir sur le localhost:8080:

<br>toute les info lié au serveur son enregistré dans le log:

<br>Création des branchements:

<br>```
<br>$ mkdir -p httpd/{htdocs,logs}
<br>```

<br>

<br>Tous file index.hmtl peut etre mis de base il est créer mais vide (possibilité que le serveur ne fonctionne pas
quand il est vide) remplacer le des que possible
<br>```
<br>$ touch httpd/htdocs/index.html
<p>
    <br>Le répertoire doit ressembler à ceci:
    <br>```
    <br>~/www/
    <br>|-- www/
    <br>| `-- htdocs/index.html
    <br>| `-- logs/
    <br>```

    <br>

    <br>### Lancement du serveur:

    <br>Pour cette partie il faut bind ton dossier www au conteneur pour qu'il sache comment faire si tu as bien tous
    suivit avant tous fonctionne:

    <br>```
    <br>$ singularity instance start -B www/:/srv/www/ 'nom du conteneur'.sif 'nom de l'instance '
    <br>en modifiant le code tu pourais avoir plusieurs instance il suffit de changer le port dans le fichier.def sinon
    le nom de l'instance est libre si tu veux l'appeler toto libre à toi
    <br>```

    <br>

    <br>Dès que toutes les actions précédentes sont réalisé tu n'as plus qu'a lancer une page web au adresses suivantes
    <br>http://localhost:8080

    <br>ou:
    <br>```
    <br>$ w3m http://localhost:8080
    <br>```


    <br>## Stopping the instance:

    <br>To stop the instance, run this command:

    <br>```
    <br>$ singularity instance stop httpd
    <br>```


    <br>
    <br>
</body>
</html>